import{a as w}from"https://app.framerstatic.com/chunk-XDZFS2Y3.mjs";import{a as nt,b as at,c as st,d as lt}from"https://app.framerstatic.com/chunk-V5GYFELH.mjs";import{a as it,h as dt}from"https://app.framerstatic.com/chunk-FQJF2NUS.mjs";import{a as rt}from"https://app.framerstatic.com/chunk-OMA2HNXY.mjs";import"https://app.framerstatic.com/chunk-IE6AATEJ.mjs";import{A as ot,B as tt,b as Ho,c as zo,d as Qo,f as qo,h as Go,i as Zo,j as Ko,l as _o,r as $o,s as jo,t as Jo,u as pe,v as Xo,w as Yo,x as et,y as me,z as ue}from"https://app.framerstatic.com/chunk-ZJWBO5RC.mjs";import{a as Ao}from"https://app.framerstatic.com/chunk-RQ3JHMA5.mjs";import"https://app.framerstatic.com/chunk-UHGBRN5O.mjs";import{a as Vo,b as Oo,h as Eo,p as Do,r as ko,t as G}from"https://app.framerstatic.com/chunk-C226YSUW.mjs";import{b as le,c as ce,d as To,f as wo}from"https://app.framerstatic.com/chunk-C33WS6O5.mjs";import{a as So,h as xo}from"https://app.framerstatic.com/chunk-PIWL2N3U.mjs";import"https://app.framerstatic.com/chunk-PABHF7FN.mjs";import{Sg as Mo,Tg as No,mb as Io}from"https://app.framerstatic.com/chunk-QCOD23DI.mjs";import{k as Po}from"https://app.framerstatic.com/chunk-RJJN3XE3.mjs";import"https://app.framerstatic.com/chunk-LNZZ6SOA.mjs";import"https://app.framerstatic.com/chunk-MBZAXISW.mjs";import"https://app.framerstatic.com/chunk-V4TANWPK.mjs";import"https://app.framerstatic.com/chunk-XH7POVOE.mjs";import{a as Wo,b as Bo,c as Uo}from"https://app.framerstatic.com/chunk-CTKJD4ES.mjs";import{k as Fo}from"https://app.framerstatic.com/chunk-FJ7IQ66H.mjs";import{Yc as go,o as bo,q as Ro}from"https://app.framerstatic.com/chunk-JLF5NHXE.mjs";import{B as F,Bd as He,Cd as ie,Dd as z,Ed as ze,Ee as je,Eu as q,Fd as Qe,Ga as te,Gf as Xe,Hd as qe,I as xe,Id as Ge,Im as ho,Jf as Ye,Ju as yo,K as Ve,Kf as eo,Ms as Co,Ns as vo,Ob as De,Of as oo,Pc as H,Rb as ke,Tf as de,V as Te,Vk as mo,Wf as to,Xf as ro,Yd as Ze,Yf as no,Zd as Ke,Zf as ao,_b as We,_d as _e,ac as ae,eg as io,hb as ne,hg as so,ib as Ee,ig as lo,jl as uo,nd as Be,ne as $e,qf as Je,rd as Ue,sd as Ae,vg as co,vm as fo,wf as Q,xd as B,xn as se}from"https://app.framerstatic.com/chunk-XZPKLSOR.mjs";import"https://app.framerstatic.com/chunk-VXJAAVJQ.mjs";import"https://app.framerstatic.com/chunk-KD4H3DLZ.mjs";import"https://app.framerstatic.com/chunk-5DSVU7DA.mjs";import"https://app.framerstatic.com/chunk-4DUBS6C5.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import"https://app.framerstatic.com/chunk-2EER5UNV.mjs";import"https://app.framerstatic.com/chunk-EN5DHTDV.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import"https://app.framerstatic.com/chunk-LH43QRIB.mjs";import"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import{e as Lo}from"https://app.framerstatic.com/chunk-QUBPWXY2.mjs";import"https://app.framerstatic.com/chunk-SSXQNR5C.mjs";import"https://app.framerstatic.com/chunk-POQKH4YA.mjs";import{p as St}from"https://app.framerstatic.com/chunk-GHDZORIF.mjs";import"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{I as po,d as oe,k as Le,n as Se}from"https://app.framerstatic.com/chunk-4YLOTR5D.mjs";import{b as T,e as Oe,f as Fe,i as re}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as O,b as V,zc as we}from"https://app.framerstatic.com/chunk-BWUNBOFS.mjs";import{j as Ne}from"https://app.framerstatic.com/chunk-LQ7PCQF4.mjs";import"https://app.framerstatic.com/chunk-VB3TOYV7.mjs";import"https://app.framerstatic.com/chunk-ITP5GS4X.mjs";import{B as ge,G as ye,K as Pe,O as Ie,P as Me,ba as A,i as be,l as W}from"https://app.framerstatic.com/chunk-FZRVNRL3.mjs";import{a as h,b as ve}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as Re}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{e as I,j as s}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var ct=new WeakMap;function fe(r){let e=ct.get(r);if(e)return e;let o=new Set;if((bo(r)||Ro(r))&&o.add(r),r.children)for(let t of r.children){let n=fe(t);for(let a of n)o.add(a)}return ct.set(r,o),o}var k=I(O()),It=I(St());var Z=I(O()),ft=I(V()),pt=(0,Z.createContext)(void 0);function mt({children:r,nodeInTextEditor:e}){return(0,ft.jsx)(pt.Provider,{value:e,children:r})}function ut(){return(0,Z.useContext)(pt)}var P=I(O());var K=I(O()),E=I(V());function _({context:r,children:e,fallback:o}){return(0,E.jsx)(K.Suspense,{fallback:(0,E.jsx)(xt,{context:r,children:o}),children:e})}function xt({context:r,children:e}){return(0,K.useLayoutEffect)(()=>r.loadingStateTracker.trackSuspense(),[r]),(0,E.jsx)(E.Fragment,{children:e})}function U(r,e){let o=new Set;o.add(e);let t=q(r,e);if(t){let n=et(t);for(let a of n)o.add(a)}return o}var l=I(V());xe({target:Ve.canvas});function Ct({context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:n}){if(e&&t)return H(e)&&o?(0,l.jsx)(_,{context:r,children:(0,l.jsx)(Vt,{context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:n})}):(0,l.jsx)(vt,{context:r,webPageNode:e,breakpointNode:t,combinedControlMap:void 0,combinedValueMap:void 0,placeholderVariableIds:void 0,activeLocale:n})}function Vt({context:r,webPageNode:e,collectionItemNode:o,breakpointNode:t,activeLocale:n}){let a=e.tree();h(a,"Must have a tree");let i=e.dataIdentifier,c=U(a,i);r.modulesRuntime.usePreloadedModules(...c);let[d,p]=r.modulesRuntime.useComponentLoader(),m=d.dataForIdentifier(i);h(m,"Data definition must exist after preloading module");let C=e.getVariableControlMap(a,d,p);h(C,"Control map must exist");let v=Yo(e,a,C,t,n,m,o.id,"public-and-private"),M=de(v);r.sandboxCollectionData.set(e.id,M,C);let g=e.getVariableValueMap(a,d,r.sandboxCollectionData,p);h(g,"Value map must exist");let y=q(a,i),{patchedValueMap:N,placeholderVariableIds:S}=(0,P.useMemo)(()=>y?Tt(y,g):{patchedValueMap:g,placeholderVariableIds:new Set},[y,g]),b=(0,P.useMemo)(()=>{let u=new Map;return u.set(e.id,C),u},[C,e.id]),f=(0,P.useMemo)(()=>{let u=new Map;return u.set(e.id,N),u},[N,e.id]);return(0,l.jsx)(vt,{context:r,webPageNode:e,breakpointNode:t,combinedControlMap:b,combinedValueMap:f,placeholderVariableIds:S,activeLocale:n})}function Tt(r,e){let o=new Map(e),t=new Set;for(let[n,a]of e){let i=r.getVariable(n);if(i){if(i.type==="string"){if(!(!a||T(a)&&a.trim()===""))continue;let d=i.options?.placeholder||i.description||i.name;o.set(n,d),t.add(n)}if(i.type==="richtext"){if(!(!a||T(a)&&xo(a)))continue;o.set(n,`<p>${i.description||i.name}</p>`),t.add(n)}}}return{patchedValueMap:o,placeholderVariableIds:t}}function vt({context:r,webPageNode:e,breakpointNode:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i}){return se(e)?(0,l.jsx)(_,{context:r,children:(0,l.jsx)(Ot,{context:r,webPageNode:e,breakpointNode:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i})}):(0,l.jsx)(D,{context:r,parentRenderId:e.id,node:o,parent:e,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodePropOverrides:void 0})}var bt={minHeight:"100vh",width:"auto"},wt=Zo();function Ot({context:r,webPageNode:e,breakpointNode:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i}){let c=(0,P.useRef)(null),d=(0,P.useRef)(null);r.modulesRuntime.usePreloadedModules(e.layoutTemplateIdentifier);let[p]=r.modulesRuntime.useComponentLoader(),m=G(),C=$(r.fetchClient,e),v=e.getResolvedControlPropValues(p,m,n,i,C);v.style??={},Object.assign(v.style,bt);let M=p.reactComponentForIdentifier(e.layoutTemplateIdentifier);h(M,"Component definition not found");let g=M.class,y=fo(o)&&je(o)?o.width:void 0,{activeVariant:N,className:S,selectors:b}=Ko(e.layoutTemplateIdentifier,y,wt)||{};(0,P.useLayoutEffect)(()=>{if(!c.current||!d.current)return;let u=Go(d.current);if(r.layoutMeasureQueue.add(o.id,c.current,u),!!b)for(let R of b){let x=c.current.querySelector(R);x&&r.layoutMeasureQueue.add(o.id,x,[],R)}},[r.layoutMeasureQueue,o.id,b]);let f=(0,P.useMemo)(()=>({ref:d}),[]);return(0,l.jsx)("div",{ref:c,className:S,children:(0,l.jsx)(g,{...v,variant:N,children:(0,l.jsx)(D,{context:r,parentRenderId:e.id,node:o,parent:e,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodePropOverrides:f})})})}var D=(0,P.memo)(function({context:e,parentRenderId:o,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d,nodePropOverrides:p}){let m=le(o,t.id),C=t.tree();return t.cache.resetForRendering(),t.cache.setVariableValueAndControlMap(i,i,a,d),Eo(n,t),vo(t)&&Co(t,C)||t.resolveValue("visible",i)===!1?(e.sandboxVisibility.setVisible(m,!1),null):(e.sandboxVisibility.setVisible(m,!0),(0,l.jsx)(_,{context:e,children:(0,l.jsx)(Et,{context:e,renderId:m,tree:C,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d,nodePropOverrides:p})}))});function Ft(r,e,o,t,n,a,i){let c=$(r.fetchClient,o),d=o.getProps(n,a,c);if(B(t)&&(d.style??={},d.style.position="relative",d.style.width="100%",se(t)?(d.style.display="contents",d.style.position="relative",d._needsMeasure=!1,d["data-layout-template-root"]=!0):Object.assign(d.style,bt)),ie(o)){let p=tt(o,a);p&&(d.viewBox=p)}if(d.id=e,i)for(let p in i){let m=i[p];p==="style"&&d.style?Object.assign(d.style,m):d[p]=m}return d}function Et({context:r,renderId:e,tree:o,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d,nodePropOverrides:p}){let m=Ft(r,e,t,n,i,d,p);if(Qe(t))return(0,l.jsx)(so,{...m});if(Ge(t))return ue(t),(0,l.jsx)(te,{...m,as:"svg",children:t.children.map(C=>{let v=le(e,C.id);return me(C,i,r.sandboxVisibility,v,!1)})});if(mo(t))return ue(t),me(t,i,r.sandboxVisibility,e,!0);if(He(t))return(0,l.jsx)(lo,{...m});if(ie(t))return(0,l.jsx)(Dt,{context:r,node:t,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d,nodeProps:m,renderId:e});if(Be(t)){let C=yo(o,t);return(0,l.jsx)(te,{...m,children:t.getChildrenInVisualOrder().map(v=>v.id===C?.id?(0,l.jsx)(Ht,{context:r,parentRenderId:e,tree:o,node:v,parent:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d},"repeated-child"):(0,l.jsx)(D,{context:r,parentRenderId:e,node:v,parent:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d,nodePropOverrides:void 0},v.id))})}return Ze(t)?(0,l.jsx)(ro,{...m}):_e(t)?(0,l.jsx)(ao,{...m}):Ke(t)?(0,l.jsx)(no,{...m}):ze(t)?null:z(t)?t.isVectorInstance?(0,l.jsx)(Bt,{node:t,context:r,nodeProps:m,combinedValueMap:i,activeLocale:d}):(0,l.jsx)(Wt,{context:r,renderId:e,node:t,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d,nodeProps:m}):($e(t),null)}var Dt=(0,P.memo)(function({context:e,node:o,combinedValueMap:t,placeholderVariableIds:n,activeLocale:a,nodeProps:i,renderId:c}){let d=o.getFontsForLoading();e.fontLoader.usePreloadedFonts(...d),i={...i},ut()===c&&(i.isEditable=!0),kt(o,n)&&(i.opacity=.3);let m=(0,P.useMemo)(()=>ot(o,t,a),[o,t,a]);if(ae(o.htmlContent)&&o.getComponentPresets().size>0){let C=o.tree();return h(C,"Must have a tree"),(0,l.jsx)(qo,{tree:C,node:o,...i,children:m})}return(0,l.jsx)(io,{...i,children:m})});function kt(r,e){return e?ht(r.htmlContent,e)||ht(r.textContent,e):!1}function ht(r,e){return ae(r)?e.has(r.id):!1}function Wt({context:r,renderId:e,node:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodeProps:c}){let d=o.tree();h(d,"Must have a tree"),r.modulesRuntime.usePreloadedModules(o.codeComponentIdentifier);let[p]=r.modulesRuntime.useComponentLoader(),m=p.reactComponentForIdentifier(o.codeComponentIdentifier);h(m,"Component definition not found");let C=G(),v=$(r.fetchClient,o),M=o.getCodeComponentProps(p,C,n,i,v),g=Mo(d,o,p);g.children=No(d,o,p);for(let f in g){let u=g[f];u&&(M[f]=u.map(R=>{let x=To(e,o.id,f,R.key);return(0,l.jsx)(D,{context:r,parentRenderId:x,node:R.node,parent:o,combinedControlMap:t,combinedValueMap:n,placeholderVariableIds:a,activeLocale:i,nodePropOverrides:At},R.key)}))}let y=o.getRichTextControlKeys(p);for(let f of y){let u=M[f];T(u)&&(M[f]=Fo(u))}let N=o.getComponentVectorSetChildren(p,n),S=new Set;for(let f in N){let u=N[f];re(u)||(S.add(u),r.modulesRuntime.preloadModule(u))}r.modulesRuntime.usePreloadedModules(...S);for(let f in N){let u=N[f];if(re(u))continue;let R=p.reactComponentForIdentifier(u);h(R,"Vector definition not found"),M[f]=R.class}let b=m.class;return(0,l.jsx)(_o,{...c,children:(0,l.jsx)(b,{...M})})}function Bt({context:r,node:e,nodeProps:o,combinedValueMap:t,activeLocale:n}){let[a]=r.modulesRuntime.useComponentLoader(),i=G(),c=$(r.fetchClient,e);return $o({node:e,frameProps:o,getCodeComponentProps(){return e.getCodeComponentProps(a,i,t,n,c)},combinedValueMap:t,renderVectorWithIdentifier(d,p){return(0,l.jsx)(Ut,{context:r,identifier:d,vectorProps:p})}})}function Ut({context:r,identifier:e,vectorProps:o}){r.modulesRuntime.preloadModule(e),r.modulesRuntime.usePreloadedModules(e);let[t]=r.modulesRuntime.useComponentLoader(),n=t.reactComponentForIdentifier(e);h(n,"Component definition not found");let a=n.class;return(0,l.jsx)(a,{...o})}var At={position:"relative"};function Ht({parent:r,...e}){if(Ue(r))return(0,l.jsx)(zt,{...e,parent:r});if(Ae(r))return(0,l.jsx)(Qt,{...e,parent:r});ve(r,"Unsupported repeater type")}function zt({context:r,parentRenderId:e,tree:o,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d}){let p=U(o,n.dataIdentifier);r.modulesRuntime.usePreloadedModules(...p);let[m,C]=r.modulesRuntime.useComponentLoader(),v=n.getVariableControlMap(o,m,C);h(v,"Control map must exist");let M=Do(n,v,jo(o,n),b=>({type:"LiteralValue",value:t.cache.getVariableReferenceValue(b,i)}),b=>Xo(o,n,b,d));Io(n)&&Jo(M,n);let g=de(M);r.sandboxCollectionData.set(e,g,v);let y=n.originalid??n.id,N=(0,P.useMemo)(()=>{let b=new Map(a);return b.set(y,v),b},[v,a,y]),S=(0,P.useMemo)(()=>g.map((b,f)=>{let u=new Map(i),R=pe(o,v,b,f);return u.set(y,R),u}),[o,v,i,y,g]);return g.map((b,f)=>{let u=T(b.id)?b.id:f,R=S[f],x=ce(e,n.id,u,f);return(0,l.jsx)(D,{context:r,parentRenderId:x,node:t,parent:n,combinedControlMap:N,combinedValueMap:R,placeholderVariableIds:c,activeLocale:d,nodePropOverrides:void 0},u)})}function Qt({context:r,parentRenderId:e,tree:o,node:t,parent:n,combinedControlMap:a,combinedValueMap:i,placeholderVariableIds:c,activeLocale:d}){h(i,"Combined value map must exist");let[p,m]=r.modulesRuntime.useComponentLoader(),C=n.getVariableControlMap(o,p,m);h(C,"Control map must exist");let v=n.dataRepeaterArray,M=v.providerId;h(M,"Variable must have providerId");let g=i.get(M);h(g,"Provider value map must exist");let y=g.get(v.id);h(Fe(y)&&y.every(Oe),"Invalid array value");let N=n.originalid??n.id,S=(0,P.useMemo)(()=>{let f=new Map(a);return f.set(N,C),f},[C,a,N]),b=(0,P.useMemo)(()=>y.map((f,u)=>{let R=new Map(i),x=pe(o,C,f,u);return R.set(N,x),R}),[o,C,i,N,y]);return y.map((f,u)=>{let R=T(f.id)?f.id:u,x=b[u],Lt=ce(e,n.id,R,u);return(0,l.jsx)(D,{context:r,parentRenderId:Lt,node:t,parent:n,combinedControlMap:S,combinedValueMap:x,placeholderVariableIds:c,activeLocale:d,nodePropOverrides:void 0},R)})}function $(r,e){return o=>{let t=De(o);if(!Ho(t))return zo(e,t.controlProp);let n=ke(t,c=>e.cache.getVariableReferenceValue(c)),a=Xe({url:n,credentials:t.credentials}),i=r.getValue(a);if(i)return Qo(e,t,i);throw r.fetchWithCache({url:n,cacheDuration:t.cacheDuration,credentials:t.credentials})}}var j=I(O());var gt=I(V());function Rt({tree:r,children:e}){let o=rt();(0,j.useLayoutEffect)(()=>{let n=o?"dark":"light";document.body.setAttribute("data-framer-theme",n)},[o]);let t=(0,j.useMemo)(()=>uo(r,o),[r,o]);return(0,gt.jsx)(to,{customProperties:t,children:e})}var J=class{constructor(){s(this,"loaders",new Map)}preloadFonts(...e){for(let o of e){if(this.loaders.has(o))continue;let t=new Q(async()=>{await F.loadFonts([o])});t.preload(),this.loaders.set(o,t)}}usePreloadedFonts(...e){for(let o of e){let t=this.loaders.get(o);h(t,"Font not preloaded"),t.use()}}};var X=class{constructor(){s(this,"promises",new Set)}trackSuspense(){let e=new A;return this.promises.add(e),()=>{e.resolve(),this.promises.delete(e)}}async waitForSuspense(){this.promises.size!==0&&(await Promise.all(this.promises),await this.waitForSuspense())}};var Pt=I(O());var Ce=class{constructor(e,o){this.modulesRuntime=e;this.identifier=o;s(this,"loaderPromise",new A);s(this,"loader",new Q(()=>this.loaderPromise))}async evaluate(e){let o=await dt(e),t=[],n=this.modulesRuntime.getLocales();await it(this.modulesRuntime.queryEngine,n,this.identifier,o,t,void 0,0),await this.modulesRuntime.updateComponentLoader(t),this.loaderPromise.resolve(),this.modulesRuntime.notifyReactComponents()}},Y=class{constructor(e){this.sandbox=e;s(this,"componentLoaderHash",0);s(this,"reactComponentListeners",new Set);s(this,"localModules",new Map);s(this,"loadedModules",new Map);s(this,"queryEngine",new oo);s(this,"reactExternalStore",{subscribe:e=>(this.reactComponentListeners.add(e),()=>{this.reactComponentListeners.delete(e)}),getSnapshot:()=>this.componentLoaderHash})}getLocales(){return this.sandbox.getLocales()}useComponentLoader(){let e=(0,Pt.useSyncExternalStore)(this.reactExternalStore.subscribe,this.reactExternalStore.getSnapshot);return[ne,String(e)]}async updateComponentLoader(e){ne.updateModuleEntities(e),await this.sandbox.remoteComponentsStore.updateComponentLoader(st(e),this.componentLoaderHash++)}notifyReactComponents(){for(let e of this.reactComponentListeners)e()}getLocalModuleURL(e){let o=this.localModules.get(e.localId);if(o)return o.moduleURL}getExternalModuleURL(e){return`${Re().modulesCDN}/${e.moduleId}/${e.saveId}/${e.file}`}getModuleURL(e){return ge(e)?this.getExternalModuleURL(e):this.getLocalModuleURL(e)}async loadModule(e){this.preloadModule(e),await this.getPreloadedModule(e).loader.readAsync()}preloadModule(e){let o=yt(e);if(this.loadedModules.get(o.value))return;let n=new Ce(this,o);this.loadedModules.set(o.value,n);let a=this.getModuleURL(o);a&&n.evaluate(a).catch(W)}getPreloadedModule(e){let o=yt(e),t=this.loadedModules.get(o.value);return h(t,"Module not preloaded"),t}usePreloadedModules(...e){let o=[];for(let t of e){let a=this.getPreloadedModule(t).loader.preload();a&&o.push(a)}if(o.length>0)throw Promise.all(o)}updateDependenciesModule(e){let o=JSON.parse(e.importMapContent);he(o,"framer-user-importmap")}updateLocalModules(e){let o=new Map,t=new Set;for(let[,n]of e){h(n.kind!=="fast-refresh","Fast-refresh is not supported");let a=n.localId;o.set(a,n),this.localModules.get(a)?.moduleURL!==n.moduleURL&&t.add(a)}this.localModules=o,this.updateLocalModulesImportMap();for(let n of t){let a=ye(n),i=this.loadedModules.get(a.value);if(i){let c=this.getLocalModuleURL(a);c&&i.evaluate(c).catch(W)}}}updateLocalModulesImportMap(){let e={imports:{},scopes:{}};for(let[o,t]of this.localModules){let n=t.files.module;if(!n)continue;let a=Me(o,n);e.imports[a]=t.moduleURL}he(e,"framer-local-modules")}insertTemporaryImportMap(e){let o=crypto.randomUUID();he(e,o)}};function yt(r){let e=Pe(r);return h(e,"Invalid module identifier"),Ie(e)}function he(r,e){let o=document.createElement("script");o.type="importmap-shim",o.id=e,o.innerHTML=JSON.stringify(r);let t=document.getElementById(e);t?t.replaceWith(o):document.body.appendChild(o)}var L=I(V()),qt=We(r=>r?go(r,{includeDrafts:!1}):be()),ee=class{constructor(e){this.container=e;s(this,"reactRoot");s(this,"needsRender",!1);s(this,"assetMap",new Le);s(this,"fontLoader",new J);s(this,"modulesRuntime",new Y(this));s(this,"fetchClient",new Ye);s(this,"loadingStateTracker",new X);s(this,"sandboxCollectionData",new wo("sandbox"));s(this,"sandboxVisibility",new Oo("sandbox"));s(this,"partialTreeReceiver",new nt);s(this,"controlsVisibility",new Vo(this.partialTreeReceiver));s(this,"presetsListNode");s(this,"webPageNodeId");s(this,"webPageNode");s(this,"collectionItemNodeId");s(this,"collectionItemNode");s(this,"breakpointNodeId");s(this,"breakpointNode");s(this,"activeLocale");s(this,"nodeInTextEditor");s(this,"remoteComponentsStore");s(this,"remoteSandboxStore");s(this,"remoteTreeStore");s(this,"layoutMeasureQueue",new lt({shouldMeasureCallback:()=>{let e=this.measureLayout();e&&this.remoteTreeStore.onLayoutMeasure(e)},shouldMeasureCallbackDelayMs:0}));this.reactRoot=(0,It.createRoot)(this.container);let o=new So(w);o.setLocal(w.channels.sandbox,this),o.setLocal(w.channels.controlsVisibility,this.controlsVisibility),o.setLocal(w.channels.modulesRuntime,this.modulesRuntime),this.remoteComponentsStore=o.getRemote(w.channels.componentsStore),this.remoteSandboxStore=o.getRemote(w.channels.sandboxStore),this.remoteTreeStore=o.getRemote(w.channels.treeStore),this.connectRpc(o).catch(W)}get tree(){return this.partialTreeReceiver.tree}getLocales(){return qt(this.tree?.root?.locales)}async connectRpc(e){await e.connect({target:window.parent,url:Lo(document.referrer).origin}),new ResizeObserver(t=>{h(t.length===1,"Invalid length");let n=t[0];h(n,"Invalid entry"),h(n.target===this.container,"Invalid target"),this.breakpointNode&&this.layoutMeasureQueue.remeasureNode(this.breakpointNode),this.remoteSandboxStore.oneway.onHeightChange(n.contentRect.height)}).observe(this.container)}measureLayout(){if(!this.webPageNode||!this.breakpointNode)return;let e=new Set;e.add(this.breakpointNode.id);let o=this.layoutMeasureQueue.process({groundNodesInViewport:e,offsetX:0,offsetY:0,scopeId:this.webPageNode.id,tree:this.tree,zoom:1});if(o.length!==0)return o}scrollTo(e){if(window.scrollTo(e),this.breakpointNode){for(let o of fe(this.breakpointNode))this.layoutMeasureQueue.remeasureNode(o);this.layoutMeasureQueue.remeasureNode(this.breakpointNode)}}update(e){let o=e.partialTreeUpdate;o&&(this.partialTreeReceiver.update(o),this.preloadTree());let t=e.webPageNodeId;t&&(this.webPageNodeId=t);let n=e.collectionItemNodeId;n&&(this.collectionItemNodeId=n);let a=e.breakpointNodeId;a&&(this.breakpointNodeId=a);let i=e.stylePresetBreakpointClassNames;T(i)&&(this.container.className=i);let c=e.dependenciesModule;c&&this.modulesRuntime.updateDependenciesModule(c);let d=e.localModules;d&&this.modulesRuntime.updateLocalModules(d);let p=e.assets;p&&(this.assetMap.set(p),F.importCustomFonts(p,po.isOn("customFontImprovements"))),this.nodeInTextEditor!==e.nodeInTextEditor&&e.nodeInTextEditor!==void 0&&(this.nodeInTextEditor=e.nodeInTextEditor,this.needsRender=!0),this.updateWebPageNode(),this.updateCollectionItemNode(),this.updateBreakpointNode(),this.updatePresetsListNode(),this.render()}preloadWebPage(){if(this.webPageNode){for(let e of this.webPageNode.walk())if(z(e)&&this.modulesRuntime.preloadModule(e.codeComponentIdentifier),B(e)&&e.layoutTemplateIdentifier&&this.modulesRuntime.preloadModule(e.layoutTemplateIdentifier),H(e)&&this.modulesRuntime.preloadModule(e.dataIdentifier),at(e)){let o=e.getFontsForLoading();this.fontLoader.preloadFonts(...o)}}}preloadTree(){let e=this.tree.getContentManagementNode()?.loaded;if(e)for(let t of e.children){let n=U(this.tree,t.instanceIdentifier);for(let a of n)this.modulesRuntime.preloadModule(a)}let o=this.tree.getPresetsListNode();if(o){for(let t of o.children)if(Po(t)){let n=t.getFontsForCodeGeneration();this.fontLoader.preloadFonts(...n)}}}updateWebPageNode(){let e=this.tree.getNodeWithTrait(this.webPageNodeId,B)?.loaded;this.webPageNode!==e&&(this.needsRender=!0,this.webPageNode=e,this.preloadWebPage())}updateCollectionItemNode(){let e=this.tree.getNodeWithTrait(this.collectionItemNodeId,qe)??void 0;this.collectionItemNode!==e&&(this.needsRender=!0,this.collectionItemNode=e)}updateBreakpointNode(){let e=this.tree.get(this.breakpointNodeId)??void 0;this.breakpointNode!==e&&(this.needsRender=!0,this.breakpointNode=e)}updatePresetsListNode(){let e=this.tree.getPresetsListNode()??void 0;this.presetsListNode!==e&&(this.needsRender=!0,this.presetsListNode=e)}async onRendered(e){await this.loadingStateTracker.waitForSuspense(),this.breakpointNode&&e&&this.remoteSandboxStore.onInitialLoadComplete(e),this.remoteTreeStore.onSandboxRendered({layoutMeasurements:this.measureLayout(),collectionUpdates:this.sandboxCollectionData.export(),visibilityUpdates:this.sandboxVisibility.export()})}render(){this.needsRender&&((0,k.startTransition)(()=>{this.reactRoot.render((0,L.jsx)(k.StrictMode,{children:(0,L.jsxs)(Gt,{webPageNodeId:this.webPageNodeId,onRendered:this.onRendered.bind(this),children:[(0,L.jsx)(Rt,{tree:this.tree,children:(0,L.jsx)(Je,{children:(0,L.jsx)(we,{isStatic:!0,children:(0,L.jsx)(eo,{client:this.fetchClient,children:(0,L.jsx)(Te,{parentSize:1,children:(0,L.jsx)(mt,{nodeInTextEditor:this.nodeInTextEditor,children:(0,L.jsx)(Ct,{context:this,webPageNode:this.webPageNode,collectionItemNode:this.collectionItemNode,breakpointNode:this.breakpointNode,activeLocale:this.activeLocale})})})})})})}),(0,L.jsx)(Ao,{presetsListNode:this.presetsListNode})]})}))}),this.needsRender=!1)}};function Gt({children:r,webPageNodeId:e,onRendered:o}){return(0,k.useEffect)(()=>{o(e)}),(0,L.jsx)(L.Fragment,{children:r})}Object.assign(window,{Framer:co});Ne({name:"canvas",security:{}});var Mt=document.querySelector("main");h(Mt,"Container element not found");var Nt=new ee(Mt),Zt=ko(Nt.assetMap);F.importFramerFonts(ho);Ee({isOnPageCanvas:!0,assetResolver:Zt,queueMeasureRequest(...r){Nt.layoutMeasureQueue.add(...r)},enableFontStore:!0,fetchGoogleFontsList:Uo,fetchFontshareFontsList:Bo,fetchBuiltInFontsList:Wo,imagePlaceholderSvg:'<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h64v64H0V0Z" fill="#222" fill-opacity=".8"/><path d="M64 12.4 12.4 64H11l53-53v1.4ZM64 33.7 33.7 64h-1.4L64 32.3v1.4ZM64 55l-9 9h-1.4L64 53.6v1.5ZM12.4 0 0 12.4V11L11 0h1.4ZM33.7 0 0 33.7v-1.4L32.3 0h1.4ZM55 0 0 55v-1.4L53.6 0h1.5Z" fill="#888" fill-opacity=".2"/></svg>',useImageSource(r){if(!r.src)return"";let e=Se(r.src);return e?oe(e.identifier):oe(r.src)}});
//# sourceMappingURL=https://app.framerstatic.com/canvas-sandbox-on-page.ZOQ6YAZT.mjs.map
